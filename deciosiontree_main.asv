load iris.data

X = sparse(iris(:,1:4));
Y = iris(:,5:5);

% Discretize variables (all)
for i=1:size(X,2)
    X(:,i) = discretize(X(:,i),Y);
end

% attribute_list is a list of still valid attributes
attribute_list = ones(size(X,2),1);

% generate decision tree
root = decisiontree_training(X, attribute_list, Y);

accuracy = zeros(length(X),1);

for i=1:length(X)
    class = classify(root,X(i,:));
    accuracy(i) = class == Y(i);
end

accuracy = sum(accuracy)
